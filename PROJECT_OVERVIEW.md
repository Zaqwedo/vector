# Vector OS — Обзор Реализации

## Что сделано

### 1. Базовая архитектура приложения
- Приложение работает как серверный веб-интерфейс с рендерингом HTML на сервере.
- Реализованы маршруты: `/today`, `/week`, `/month`, `/vector`.
- Форма на каждом экране отправляется через POST и сохраняет данные в общем хранилище.
- Добавлена навигация в шапке: `Вектор · День · Неделя · Месяц`.

### 2. Экран «День» (`/today`)
- Заголовок: `День · {дата}`.
- Дата в заголовке кликабельна через `input[type=date]`, можно выбрать любой день.
- При выборе даты:
  - если запись есть — подгружается;
  - если записи нет — отображается пустая форма.
- Строка `Обновлено · {время}` отображается при наличии записи и обновляется после сохранения.
- Для прошлой даты показывается строка:
  - `Просмотр прошлой даты`
  - кнопка/ссылка `Вернуться к сегодняшнему дню`.
- Блоки ввода:
  - **Фокус**: минуты глубокой работы, минуты вне фокуса;
  - **Проект**: активный проект (read-only), ключевой шаг дня;
  - **Тело**: мультивыбор тренировок (`Нет` эксклюзивный, `Лёгкая`, `Силовая`, `Кардио`), шаги.
- Кнопка: `Зафиксировать день`.

### 3. Экран «Неделя» (`/week`)
- Заголовок недели с выбором даты (как на экране дня):
  - можно выбрать любую дату;
  - редактируется неделя, в которую попадает выбранная дата.
- Показ агрегатов недели:
  - глубокая работа;
  - стратегические шаги;
  - тренировки;
  - средние шаги;
  - шум %;
  - скорость.
- `Качество траектории` реализовано кнопками `1 2 3 4 5` (radio-переключатели).
- Есть поле заметок и кнопка сохранения недели.

### 4. Экран «Месяц» (`/month`)
- Страница разделена визуально на 2 блока:
  1. **Общий итог**
  2. **По неделям**
- В шапке месяца:
  - `Месяц · {Mon YYYY}`;
  - статус: `впереди / по плану / отставание`.
- В блоке **Общий итог**:
  - Деньги: цель (read-only), факт, дельта;
  - рядом с фактом — отметка `Ввёл` (чек-кнопка);
  - Фокус: сумма минут, среднее в неделю, шум %;
  - Тело: всего тренировок, средние шаги;
  - Качество: оценка траектории кнопками `1..5`;
  - поле: `Что скорректировать в следующем месяце?`.
- В блоке **По неделям**:
  - для каждой недели отображаются:
    - минуты глубокой работы,
    - ключевые шаги,
    - тренировки.
  - Поле дохода из недельных блоков удалено.
- Действия месяца разделены:
  - `Сохранить месяц` — сохраняет без блокировки;
  - `Зафиксировать месяц` — блокирует редактирование.
- После фиксации отображается `Зафиксировано · {время}`.

### 5. Экран «Вектор» (`/vector`)
- Редактирование долгосрочных параметров:
  - дата старта,
  - горизонт,
  - целевой доход,
  - диапазон веса,
  - цель проекта,
  - макс. часов в неделю.

### 6. Визуальный стиль (инженерно-архитектурный)
- Спокойный, нейтральный, современный минимализм.
- Без градиентов, без тяжёлых теней, без «маркетинговых» декоративных приёмов.
- Одна белая поверхность на светло-сером фоне.
- Типографика и структура важнее декоративных элементов.
- Янтарный акцент используется умеренно:
  - активная вкладка в навигации (тонкий underline),
  - активные состояния переключателей/рейтинга,
  - позитивный статус.
- Кнопки — графитовые, hover с мягким акцентом.
- Мобильная адаптация для основных экранов.

---

## Текущий стек

### Backend
- **Node.js** (ES Modules, `"type": "module"`)
- Встроенный HTTP-сервер на модуле **`http`** (без Express в текущей версии)
- Роутинг, обработка форм и редиректы реализованы вручную

### Frontend
- Серверный рендеринг HTML-шаблонов в `server.js`
- Один общий файл стилей: `public/styles.css`
- Без фронтенд-фреймворков

### Хранение данных
- Временное хранилище в памяти процесса (`Map` в `server.js`)
- Данные живут до перезапуска сервера

---

## Важное текущее ограничение
- Исторически проект был ориентирован на SQLite, но в текущем состоянии работает на in-memory хранилище.
- При перезапуске Node-процесса записи сбрасываются.
